{% extends 'main_page_app/main_layout.html' %}
{% load static %}
{% load humanize %}
{% block custom_title %}Вакансии{% endblock %}

{% block custom_body %}
    <main class="container mt-3">
        <section>
            <h1 class="h1 text-center mx-auto mt-4 pt-5" style="font-size: 70px;">
                <strong>
                    {% if specialty_ru %}
                        <!-- это условие выполниться только если
                         запрос попадёт в views.vacancies_specialty -->
                        специализация - {{ specialty_ru }}
                    {% elif company %}
                        <!-- это условие выполниться только если
                         запрос попадёт в views.companies_page -->
                        <div class="border m-auto h5 p-2 col-3">
                            <img src="{{ company.logo }}" width="100" height="60" alt="">
                            <p class="mt-auto">Компания - {{ company.name }}</p>
                        </div>
                        {{ company.title }}
                    {% else %}
                        Все вакансии
                    {% endif %}
                </strong>
            </h1>
            <p class="text-center pt-1">
                 {% if company %}
                     Офис находится - {{ company.location }};
                 {% endif %}
                    кол-во вакансий: {{ vacancies|length }}
            </p>
            <div class="row mt-5">
                {% for vacancy in vacancies %}
                    <div class="col-12 col-lg-8 offset-lg-2 m-auto">
                        <div class="card mb-4">
                            <div class="card-body px-4">
                                <div class="row">
                                    <div class="col-12 col-md-8 col-lg-9">
                                        <h2 class="h2 pb-2">{{ vacancy.title }}</h2>
                                        <p class="mb-2">{{ vacancy.skills }}</p>
                                        <p>От {{ vacancy.salary_min | intcomma }} до {{ vacancy.salary_max | intcomma }} Руб.</p>
                                        <p class="text-muted pt-1">Опубликовано - {{ vacancy.published_at }}</p>
                                    </div>
                                    <div class="col-12 col-md-4 col-lg-3 d-flex align-items-end">
                                        <a href="{{ vacancy.get_absolute_url }}">
                                            <img src="https://place-hold.it/130x80" width="130" height="80" alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </section>
    </main>
{% endblock %}